{
  "experiment": {
    "title": "Genetic_Optimized_Trend_Reversion_V1_Fix",
    "val_size": 0.2,
    "test_size": 0.1,
    "cv_folds": 4,
    "fold_size": 0.5,
    "backtest_schema": {
      "start_offset": 100,
      "start_balance": 100000.0,
      "alloc_size": 0.05,
      "delay": 1
    },
    "strategy": {
      "base_net": {
        "type": "logic",
        "nodes": [
          {
            "type": "input",
            "threshold": 35.0,
            "feat_idx": 1
          },
          {
            "type": "input",
            "threshold": 1.0,
            "feat_idx": 2
          },
          {
            "type": "logic",
            "gate": "AND",
            "in1_idx": 1,
            "in2_idx": 2
          },
          {
            "type": "input",
            "threshold": 25.0,
            "feat_idx": 4
          },
          {
            "type": "logic",
            "gate": "NAND",
            "in1_idx": 4,
            "in2_idx": 4
          }
        ],
        "default_value": false
      },
      "feats": [
        {
          "feature": "rsi",
          "id": "rsi_14",
          "window": 14,
          "wilder": true,
          "ohlc": "close"
        },
        {
          "feature": "normalized sma",
          "id": "norm_sma_50",
          "window": 50,
          "ohlc": "close"
        },
        {
          "feature": "normalized bb",
          "id": "norm_bb_lower",
          "window": 20,
          "multiplier": 2.0,
          "ohlc": "close",
          "out": "lower"
        },
        {
          "feature": "adx",
          "id": "adx_14",
          "window": 14,
          "out": "positive"
        }
      ],
      "actions": {
        "type": "logic",
        "meta_actions": [
          {
            "label": "mutate_threshold",
            "sub_actions": [
              "NEXT_THRESHOLD",
              "SELECT_NODE"
            ]
          },
          {
            "label": "mutate_logic",
            "sub_actions": [
              "NEXT_NODE",
              "SELECT_NODE",
              "SET_IN1_IDX",
              "SET_IN2_IDX"
            ]
          },
          {
            "label": "grow_network",
            "sub_actions": [
              "NEW_INPUT_NODE",
              "NEW_AND_NODE",
              "NEW_NAND_NODE",
              "NEW_OR_NODE"
            ]
          }
        ],
        "thresholds": [
          {
            "feat_id": "rsi_14",
            "min": 10.0,
            "max": 90.0
          },
          {
            "feat_id": "norm_sma_50",
            "min": 0.9,
            "max": 1.1
          },
          {
            "feat_id": "norm_bb_lower",
            "min": 0.9,
            "max": 1.1
          },
          {
            "feat_id": "adx_14",
            "min": 10.0,
            "max": 50.0
          }
        ],
        "n_thresholds": 50,
        "allow_recurrence": false,
        "allow_and": true,
        "allow_or": true,
        "allow_xor": false,
        "allow_nand": true,
        "allow_nor": false,
        "allow_xnor": false
      },
      "penalties": {
        "type": "logic",
        "node": 0.01,
        "input": 0.0,
        "logic": 0.0,
        "recurrence": 0.0,
        "feedforward": 0.0,
        "used_feat": 0.01,
        "unused_feat": 0.05
      },
      "stop_conds": {
        "max_iters": 50,
        "train_patience": 10,
        "val_patience": 5
      },
      "opt": {
        "type": "genetic",
        "pop_size": 100,
        "seq_len": 20,
        "n_elites": 5,
        "mut_rate": 0.2,
        "cross_rate": 0.6,
        "tournament_size": 10
      },
      "entry_ptr": {
        "anchor": "from_start",
        "idx": 3
      },
      "exit_ptr": {
        "anchor": "from_start",
        "idx": 5
      },
      "stop_loss": 0.05,
      "take_profit": 0.15,
      "max_hold_time": 20
    }
  }
}